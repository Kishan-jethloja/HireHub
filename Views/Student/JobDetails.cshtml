@model PlacementManagementSystem.Models.JobPosting
@using PlacementManagementSystem.Models
@{
    ViewData["Title"] = "Job Details";
}

<div class="container">
    <div class="row">
        <div class="col-12">
            <h2 class="mb-1">@Model.Title</h2>
            <div class="text-muted mb-3">
                <a asp-controller="Company" asp-action="Public" asp-route-id="@Model.CompanyUserId" class="font-weight-bold">@ViewBag.CompanyName</a>
                 • @Model.Type • @(string.IsNullOrWhiteSpace(Model.Location) ? "Remote/NA" : Model.Location)
            </div>
            <div class="mb-3">
                @if (Model.MinimumCPI.HasValue)
                {
                    <span class="badge badge-info mr-2">Min CPI: @Model.MinimumCPI</span>
                }
                @{
                    var durationText = Model.Duration.HasValue
                        ? (Model.Type == JobType.Internship ? $"{Model.Duration} mo" : $"{Model.Duration} yr")
                        : null;
                }
                @if (!string.IsNullOrEmpty(durationText))
                {
                    <span class="badge badge-secondary mr-2">Duration: @durationText</span>
                }
                <span class="badge badge-light">Apply by: @(Model.ApplyByUtc?.ToString("yyyy-MM-dd") ?? "-")</span>
            </div>
            @if (!string.IsNullOrWhiteSpace(Model.Description))
            {
                <div class="card mb-3">
                    <div class="card-body">
                        <p class="mb-0" style="white-space: pre-line;">@Model.Description</p>
                    </div>
                </div>
            }

            <a class="btn btn-link" asp-action="Jobs">Back to Jobs</a>
        </div>
    </div>
</div>


