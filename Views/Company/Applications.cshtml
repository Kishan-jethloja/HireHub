@model IEnumerable<PlacementManagementSystem.Models.Application>
@{
	ViewData["Title"] = "Applications";
}

<div class="d-flex justify-content-between align-items-center mb-3">
	<h2 class="mb-0">Applications - @ViewBag.Job?.Title</h2>
	<div>
		<a class="btn btn-outline-secondary mr-2" asp-action="Announcements" asp-route-id="@ViewBag.Job?.Id">Announcements</a>
		<a class="btn btn-outline-primary" asp-action="MyJobs">Back to My Jobs</a>
	</div>
</div>

@if (!Model.Any())
{
	<div class="alert alert-info">No applications yet.</div>
}
else
{
	<div class="list-group">
		@foreach (var a in Model)
		{
			<a class="list-group-item list-group-item-action d-flex justify-content-between align-items-center" asp-action="ApplicationDetails" asp-route-id="@a.Id">
				<span>
					<strong>@a.ApplicantName</strong>
					<span class="text-muted ml-2">(College ID: @a.CollegeId)</span>
				</span>
				<span>
					@{
						var statusClass = a.Status == PlacementManagementSystem.Models.ApplicationStatus.Hired
							? "badge-success"
							: (a.Status == PlacementManagementSystem.Models.ApplicationStatus.Rejected ? "badge-danger" : "badge-secondary");
					}
					<span class="badge @statusClass mr-2">@a.Status</span>
					<small class="text-muted">@a.CreatedAtUtc.ToString("yyyy-MM-dd HH:mm")</small>
				</span>
			</a>
		}
	</div>
}


