@model IEnumerable<PlacementManagementSystem.Models.JobPosting>
@{
	ViewData["Title"] = "Jobs by Company";
}

<div class="d-flex justify-content-between align-items-center mb-3">
	<h2 class="mb-0">@ViewBag.CompanyName â€” Jobs for @ViewBag.College</h2>
</div>

@if (!Model.Any())
{
	<div class="alert alert-info">No jobs found for this company in your college.</div>
}
else
{
	<div class="row">
		@foreach (var job in Model)
		{
			<div class="col-md-4 mb-4">
				<a asp-controller="College" asp-action="JobDetails" asp-route-id="@job.Id" class="text-decoration-none">
					<div class="card h-100 shadow-sm job-card">
						<div class="card-body d-flex flex-column">
							<div class="d-flex justify-content-between align-items-start mb-2">
								<h5 class="card-title mb-0 text-dark">@job.Title</h5>
								<div class="d-flex align-items-center">
									<span class="badge badge-primary">@job.Type</span>
								</div>
							</div>
							
							<ul class="list-unstyled mb-3">
								<li><strong>Location:</strong> @(string.IsNullOrWhiteSpace(job.Location) ? "Remote/NA" : job.Location)</li>
								<li><strong>Compensation:</strong> @(job.Compensation?.ToString() ?? "-")</li>
								<li><strong>Min CPI:</strong> @(job.MinimumCPI?.ToString() ?? "No requirement")</li>
								<li><strong>Apply By:</strong> @(job.ApplyByUtc?.ToLocalTime().ToString("MMM dd, yyyy") ?? "-")</li>
							</ul>
							
							@if (!string.IsNullOrWhiteSpace(job.Description))
							{
								<div class="mb-3">
									<p class="card-text text-muted small">@(job.Description.Length > 100 ? job.Description.Substring(0, 100) + "..." : job.Description)</p>
								</div>
							}
							
							<div class="mt-auto">
								<small class="text-muted">Posted: @job.CreatedAtUtc.ToLocalTime().ToString("MMM dd, yyyy HH:mm")</small>
							</div>
						</div>
					</div>
				</a>
			</div>
		}
	</div>

	<style>
		.job-card {
			transition: transform 0.2s ease, box-shadow 0.2s ease;
			cursor: pointer;
		}
		
		.job-card:hover {
			transform: translateY(-2px);
			box-shadow: 0 4px 8px rgba(0,0,0,0.15) !important;
		}
		
		.job-card:hover .card-title {
			color: #007bff !important;
		}
	</style>
}


